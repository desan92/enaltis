<?php

function getAreaOfPolygon($geometry)
{

    $area = 0;
    for ($ri=0, $rl=sizeof($geometry->rings); $ri<$rl; $ri++) {
        $ring = $geometry->rings[$ri];

        for ($vi=0, $vl=sizeof($ring); $vi<$vl; $vi++) {
            $thisx = $ring[ $vi ][0];
            $thisy = $ring[ $vi ][1];
            $nextx = $ring[ ($vi+1) % $vl ][0];
            $nexty = $ring[ ($vi+1) % $vl ][1];
            $area += ($thisx * $nexty) - ($thisy * $nextx);
        }
    }

    // done with the rings: "sign" the area and return it
    $area = abs(($area / 2));
    return $area;

}

function getCentroidOfPolygon($geometry)
{

    $cx = 0;
    $cy = 0;

    for ($ri=0, $rl=sizeof($geometry->rings); $ri<$rl; $ri++) {
        $ring = $geometry->rings[$ri];

        for ($vi=0, $vl=sizeof($ring); $vi<$vl; $vi++) {
            $thisx = $ring[ $vi ][0];
            $thisy = $ring[ $vi ][1];
            $nextx = $ring[ ($vi+1) % $vl ][0];
            $nexty = $ring[ ($vi+1) % $vl ][1];

            $p = ($thisx * $nexty) - ($thisy * $nextx);
            $cx += ($thisx + $nextx) * $p;
            $cy += ($thisy + $nexty) * $p;
        }
    }

    // last step of centroid: divide by 6*A
    $area = getAreaOfPolygon($geometry);
    $cx = -$cx / ( 6 * $area);
    $cy = -$cy / ( 6 * $area);

    // done!
    return array($cx,$cy);

}
$polygon = new stdClass();
$polygon->rings = [[
    [0.812596771837177, 41.327082880141482],
    [0.819148858170058, 41.328296223308811],
    [0.830770182565204, 41.358625867418596],
    [0.847164866138931, 41.354730362915632],
    [0.863268551680156, 41.338111173979904],
    [0.901469714127622, 41.347457866011638],
    [0.945231684956403, 41.349754441918407],
    [0.958737359463993, 41.354914400847221],
    [0.981956911978221, 41.391747060252392],
    [1.006195690084938, 41.405573866837273],
    [1.027715902192128, 41.409259451211014],
    [1.047456950193569, 41.437224743364681],
    [1.063668250026108, 41.453554456460651],
    [1.056668356422307, 41.466415585023093],
    [1.037456693604837, 41.479990453066698],
    [1.056268620082995, 41.493895490574538],
    [1.085565509246763, 41.478323294526689],
    [1.130863294630825, 41.477317147580976],
    [1.179783751758336, 41.488431076547712],
    [1.1636210046714, 41.513195195540497],
    [1.180875927715472, 41.543290291436918],
    [1.210686545905895, 41.548693906712053],
    [1.223680185108598, 41.538693353609723],
    [1.235949695482202, 41.541693323241248],
    [1.246240060195411, 41.525029508678045],
    [1.233347075060617, 41.517775212105029],
    [1.257001959486368, 41.497375289078768],
    [1.273969676228615, 41.500257672707349],
    [1.29127341061266, 41.488002742572917],
    [1.318989585666202, 41.495451121773904],
    [1.328787014720898, 41.477482035733949],
    [1.322810266702238, 41.461633557699599],
    [1.322835927602448, 41.461357866405393],
    [1.321322438657021, 41.448048496750928],
    [1.322030800725194, 41.447647837591241],
    [1.328315815495565, 41.427230832226741],
    [1.355764165475655, 41.427493654688291],
    [1.384040079103206, 41.448008008335194],
    [1.398740425765595, 41.43740508312397],
    [1.424821420260213, 41.449896141790106],
    [1.44077752141892, 41.450092667628148],
    [1.470017507009463, 41.477091144906431],
    [1.486986273147754, 41.464516432880039],
    [1.469064606458367, 41.444793058195835],
    [1.476139483209364, 41.435536998944258],
    [1.495951678218125, 41.43572109708235],
    [1.475778667133158, 41.428451170759445],
    [1.490009216467104, 41.402817655293461],
    [1.481845013523761, 41.397410348463367],
    [1.458774878347137, 41.405813988019254],
    [1.457252067216927, 41.392262979896287],
    [1.483804371340206, 41.38171639592391],
    [1.511724781621381, 41.394048977864578],
    [1.537017990892294, 41.385343613945018],
    [1.552164065128124, 41.368118808595071],
    [1.563256950038185, 41.369673216680454],
    [1.578859483199046, 41.358294808966214],
    [1.559980254377526, 41.345220416781309],
    [1.573476862368239, 41.317379655979266],
    [1.593088410505465, 41.310999263868915],
    [1.588645200042874, 41.297605672907096],
    [1.602281813537611, 41.286997268362121],
    [1.627446273115802, 41.294268875140133],
    [1.623669461939367, 41.276303604696523],
    [1.640760761777563, 41.269068714809478],
    [1.668497692745814, 41.273209185003793],
    [1.690581641369033, 41.271754663364199],
    [1.661516768759038, 41.249101945836713],
    [1.640770088079892, 41.251981534163399],
    [1.620094629219824, 41.229530825172439],
    [1.609604467092561, 41.198418058940547],
    [1.616929593615703, 41.190729154559982],
    [1.542814607829923, 41.182932356154765],
    [1.46607296637935, 41.165626073826004],
    [1.408032651366325, 41.141048014167644],
    [1.394909967239976, 41.13161251383297],
    [1.381920916798514, 41.134395954128756],
    [1.352580541844573, 41.127134013726028],
    [1.31227109002799, 41.129406841387308],
    [1.295251484273601, 41.126971499557051],
    [1.274177286684942, 41.115523207321495],
    [1.256227955988162, 41.112158511843802],
    [1.232325603653612, 41.094973933272009],
    [1.21309618832941, 41.099219883431672],
    [1.198861722314177, 41.094022988048572],
    [1.185725810106956, 41.080101056338499],
    [1.171710913422589, 41.055041117197398],
    [1.144712493963142, 41.0713735018699],
    [1.127918464337581, 41.074939697944274],
    [1.083606644636318, 41.063511279092438],
    [1.045682932499946, 41.062856758543191],
    [1.003759372714565, 41.043215869184095],
    [0.978925997514738, 41.036206404543165],
    [0.952862960456017, 41.017458704809876],
    [0.932668465638709, 40.99207050505612],
    [0.915406846168351, 40.987266802759194],
    [0.879800959029782, 40.956253645946767],
    [0.862159285623733, 40.947060384634334],
    [0.857772967453471, 40.935254399045689],
    [0.818824158533104, 40.940728131269346],
    [0.812506885264619, 40.94609973246591],
    [0.779863353855795, 40.992276051144401],
    [0.783754559867113, 41.012549872798751],
    [0.780534997923353, 41.028943846921166],
    [0.795939276916092, 41.039124102526785],
    [0.817045177826275, 41.062307752125768],
    [0.844281497062109, 41.053177198196963],
    [0.857135823815209, 41.061766776925218],
    [0.85089969360525, 41.079681661802304],
    [0.863513578214558, 41.087149834562958],
    [0.842895408546498, 41.099818903445573],
    [0.826563074816067, 41.098264201324206],
    [0.82355242411026, 41.077053047125986],
    [0.814185390178172, 41.067301876216661],
    [0.792201742725486, 41.071212342495237],
    [0.787142420419716, 41.078444638240079],
    [0.751413663926168, 41.086276938078697],
    [0.731968689637062, 41.103358806013325],
    [0.717335242030039, 41.109326737947043],
    [0.693274881013028, 41.134035623984992],
    [0.697710855497145, 41.137508038928708],
    [0.676647117368346, 41.163709986627552],
    [0.66981733447399, 41.190913598353937],
    [0.702423104209282, 41.212865443036321],
    [0.686418032111374, 41.224703751014168],
    [0.685647772201766, 41.245822072416814],
    [0.694238621113699, 41.256859371697786],
    [0.711289113250773, 41.257924649835644],
    [0.726440846828618, 41.269483153978506],
    [0.746380344962399, 41.273783248284431],
    [0.783302335442179, 41.26709122671766],
    [0.813152295026181, 41.279885026909326],
    [0.809835070239134, 41.293158188459635],
    [0.795566418924681, 41.31329803532288],
    [0.812596771837177, 41.327082880141482]
]];

$centroid = getCentroidOfPolygon($polygon);
var_dump($centroid);

?>